# FnMacAssistant (Русская версия)

Добро пожаловать в FnMacAssistant! Простой в использовании помощник, который помогает скачать последнюю версию Fortnite IPA и применяет необходимые патчи для корректной работы на macOS.

<img width="612" height="540" alt="Screenshot of FnMacAssistant v1.5.0" src="https://github.com/user-attachments/assets/08308966-ddff-44e9-ac24-7590c843fed7" />



## Системные требования:
- Установленный [Sideloadly](https://sideloadly.io) на вашем Mac
- macOS 15.1 или новее
- Mac с чипом серии M (M1/M2/M3/M4). Fortnite для мобильных устройств никогда не будет работать на Intel Mac.

## Инструкция по установке:

### Часть 1: Установка

Для запуска Fortnite на вашем Mac следуйте этим шагам:

1. **Установите Sideloadly:**
   - Скачайте и установите https://sideloadly.io

2. **Запустите FnMacAssistant:**
   - Для запуска через Python клонируйте этот репозиторий и следуйте инструкциям ниже
   - Или скачайте готовое приложение с [Releases](https://github.com/IKostarev/FortniteMac/releases)

3. **Выберите желаемую версию IPA:**
   - Нажмите кнопку "Download IPA" для скачивания
   - Подробности о различиях версий см. в разделе "Различия между IPA версиями"

4. **Установите IPA через Sideloadly:**
   - Откройте Sideloadly и установите скачанный IPA файл
   - IPA сохранится в папку Downloads

5. **Запустите Fortnite:**
   - Откройте приложение Fortnite
   - Оно должно показать логотип Epic Games на несколько секунд, затем закрыться
   - Если требуется, перейдите в Settings > Privacy & Security и нажмите "Open Anyway"

6. **Примените патч:**
   - Вернитесь в FnMacAssistant и нажмите кнопку "Patch App"

### Часть 2: Загрузка игровых файлов

Fortnite установлен, но игровые файлы еще нужно загрузить. Первоначальная загрузка в macOS сломана, поэтому используйте один из двух методов: фоновую загрузку или импорт архива.

#### 2.1: Фоновая загрузка (рекомендуется, но сложнее)

1. **Скачайте barebones архив:**
   - Скачайте [barebones архив](https://cvws.icloud-content.com/B/AbqQjf4KVuERiFWui3vb5UbTTK9yAZMYuc8MDVc20yE7pYY-Sxck7M31/v39.20%20Barebones.zip) (~300MB)

2. **Импортируйте архив:**
   - Откройте FnMacAssistant и нажмите "Import Archive"

3. **Запустите Fortnite:**
   - Откройте Fortnite и дождитесь начала загрузки

4. **Отследите прогресс:**
   - Запомните размер загрузки и полностью закройте Fortnite (Command + Q или красный X)

5. **Проверьте прогресс в Finder:**
   - Нажмите Shift + Command + G и вставьте путь: `~/Library/Containers/Fortnite/Data/`
   - Проверьте размер папки Library (выберите ее и нажмите Space или правой кнопкой > Get Info)

6. **Дождитесь завершения:**
   - Когда загрузка завершится, папка сожмется до нескольких МБ

7. **Продолжите загрузку:**
   - Снова откройте Fortnite - загрузка должна продолжиться с 50%

8. **Повторите при необходимости:**
   - После входа может появиться еще один экран загрузки
   - Если да, повторите шаги 4-7

#### 2.2: Импорт архива (проще, но требует переустановки при каждом обновлении)

1. **Скачайте архив:**
   - Скачайте [последний архив](https://cvws.icloud-content.com/B/AbmmoP-DbW8yF0y0yz_5xiesLMRuAQK5uEkbEg8n8SFX9umRdSk7gsa9/v39.20%20archive.zip)
   - Убедитесь, что версия архива соответствует версии IPA

2. **Запустите Fortnite:**
   - Откройте Fortnite хотя бы один раз перед импортом
   - Когда появится полоска загрузки, закройте игру

3. **Импортируйте архив:**
   - В FnMacAssistant нажмите "Import Archive"
   - Выберите ZIP или папку в зависимости от скачанного файла

4. **Дождитесь завершения:**
   - Подождите пока полоска прогресса заполнится
   - После этого можно запускать Fortnite!

**Примечание:** Если после входа появится еще один экран загрузки, следуйте шагам 4-7 из метода фоновой загрузки.

### Часть 3: Установка дополнительных игровых режимов (опционально)

В базовой установке доступны только Battle Royale и Blitz. Для других режимов (Reload, OG, Creative, LEGO, Rocket Racing и др.) используйте метод фоновой загрузки:

1. **Выберите режим:**
   - Откройте Fortnite и выберите желаемый режим

2. **Начните загрузку:**
   - Запомните размер загрузки и нажмите Download
   - Как только загрузка начнется, полностью закройте игру

3. **Отследите прогресс:**
   - В Finder перейдите по пути: `~/Library/Containers/Fortnite/Data/`
   - Проверьте размер папки Library

4. **Завершите загрузку:**
   - Когда папка сожмется, откройте Fortnite
   - Выберите режим и нажмите Download снова
   - Загрузка должна продолжиться с 50%

## FAQ - Часто задаваемые вопросы

### Получаю ошибку подключения/хранения при загрузке игровых файлов! Что делать?

Есть два решения:

**Решение 1:**
1. Откройте FnMacAssistant
2. Нажмите "Delete App and Data"
3. Следуйте шагам установки снова

**Решение 2:**
1. Откройте FnMacAssistant
2. Нажмите кнопку с иконкой папки слева от "Import Archive"
3. Выберите контейнер (обычно самый большой)
4. Перейдите в FortniteGame > PersistentDownloadDir
5. Найдите файл 'InstallBundleManagerReportCache.json'
6. Удалите этот файл и попробуйте загрузку снова

### Как обновить игру?

1. Скачайте обновленную IPA (через FnMacAssistant или другой источник)
2. Установите новую IPA с тем же Apple ID
3. Откройте Fortnite или включите 'Update Skip' в новой версии
4. Убедитесь, что открыли игру ПЕРЕД патчингом
5. Если появится запрос, разрешите тестирование через System Settings > Privacy & Security
6. Примените патч
7. Загрузите игровые файлы выбранным методом

### Ошибка: "Fortnite" cannot be opened because the developer did not intend for it to be run on this Mac.

Если появляется это сообщение:
1. Удалите fortnite.app из папки Applications
2. Переустановите Fortnite IPA через Sideloadly
3. Откройте Fortnite (должно показать логотип Epic Games на несколько секунд, затем закрыться)
4. В FnMacAssistant нажмите "Patch App"
5. Снова откройте Fortnite - на этот раз он не должен падать!

### Ошибка: Failed to patch the app: [Errno 1] Operation not permitted

Эта ошибка означает, что нужно дать дополнительные разрешения FnMacAssistant:
1. Перейдите в System Settings > Privacy & Security > App Management
2. Нажмите плюсик
3. Добавьте приложение FnMacAssistant
4. Перезапустите приложение и попробуйте патчить снова

### Fortnite продолжает падать после патчинга

Обычно это означает, что версия macOS не поддерживается. Обновите macOS и попробуйте снова.

### Различия между различными IPA версиями

**Clean IPA** (Fortnite-XX.XX_Clean.ipa)
- Расшифрованный IPA без модификаций
- Полезен для отладки, но может вызывать проблемы (черные полосы)

**Regular IPA** (Fortnite-XX.XX.ipa)
Содержит следующие модификации:
- Патч полноэкранного режима macOS
- Убрано ограничение устройств
- Разрешено редактирование файлов через приложение Files
- Снижена минимальная версия iOS до 10

**Tweak IPA** (Fortnite-XX.XX+Tweak.ipa)
Поставляется с FnMacTweak от rt2746. Дополнительно к Regular содержит:
- Переключение блокировки курсора клавишей Left Option (разблокировано по умолчанию)
- Разблокировка опции 120 FPS (требуется дисплей 120Hz)
- Разблокировка выбора графических настроек (Low, Medium, High, Epic)
- Пользовательское меню опций (нажмите P) для настройки чувствительности мыши
- Взаимодействие мыши с мобильным UI
- Использование внешнего хранилища для игровых данных (требуется FnMacAssistant v1.5.0+ и FnMacTweak v1.0.3+)

Standalone tweak можно скачать или собрать самостоятельно на [GitHub странице проекта](https://github.com/victorwads/FnMacTweak).

Если у вас есть вопросы, не описанные здесь, присоединяйтесь к [Discord серверу Fortnite Mac](https://discord.gg/nfEBGJBfHD)!

## Запуск программы

### Через Python (самостоятельная установка):

```bash
# Установите зависимости
brew install python python-tk

# Клонируйте репозиторий
git clone https://github.com/IKostarev/FortniteMac.git
cd FortniteMac

# Создайте виртуальное окружение
python3 -m venv .venv
source .venv/bin/activate

# Установите зависимости
pip install -r src/requirements.txt

# Запустите программу
python FnMacAssistant.py
```

### Через собранное приложение:
Скачайте последнюю версию с [Releases](https://github.com/IKostarev/FortniteMac/releases) и запустите двойным кликом.

## Благодарности:
- LrdSnow за помощь с извлечением IPA
- Rt-someone за создание FnMacTweak